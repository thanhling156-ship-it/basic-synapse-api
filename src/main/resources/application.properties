
# ==============================================================
# 1. C?U H�NH SERVER & APP
# ==============================================================
spring.application.name=spaced-repetition-api
server.port=8080

jwt.secret=DayLaMotChuoiBiMatSieuCapVipProCuaSynapseProject2026

# ==============================================================
# 2. C?U H�NH DATABASE (POSTGRESQL)
# ==============================================================
# L?u �: B?n c?n t?o database t�n l� 'synapse_db' trong Postgres tr??c
spring.datasource.url=jdbc:postgresql://localhost:5432/synapse_api_db
spring.datasource.username=postgres
spring.datasource.password=123456
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ==============================================================
# 3. C?U H�NH AI (SPRING AI & OLLAMA)
# ==============================================================
# ??a ch? m?c ??nh c?a Ollama khi ch?y tr�n m�y b?n
spring.ai.ollama.base-url=http://localhost:11434
spring.ai.ollama.chat.options.model=llama3.2

# Đăng ký đồng thời cả 2 kỹ năng
spring.ai.ollama.chat.options.functions=searchFlashcard,processStudyResult

# System Prompt để "uốn nắn" AI
spring.ai.ollama.chat.options.system-prompt=\
  Bạn là trợ lý ảo Synapse. \
  1. Khi người dùng nói về nội dung thẻ mà KHÔNG CÓ ID -> PHẢI dùng 'searchFlashcard' để tìm ID. \
  2. Tuyệt đối KHÔNG tự đoán ID bừa bãi. \
  3. Sau khi có ID, dùng 'processStudyResult' để cập nhật.
# ==============================================================
# 4. C?U H�NH LOGGING (?? d? debug khi l?i)
# ==============================================================
logging.level.org.springframework.ai=DEBUG
logging.level.org.hibernate.SQL=DEBUG
